# BankIM Production Environment Configuration
# PROD Server: 185.220.207.52 (adminpanelprod-2)

# Environment
NODE_ENV=production
ENVIRONMENT=production

# Server Configuration
HOST=0.0.0.0
PORT=8003
CLIENT_PORT=8004

# Database Configuration (Production Environment)
CONTENT_DATABASE_URL=postgresql://bankim_prod:${CONTENT_DB_PASSWORD}@localhost:5432/bankim_content
CORE_DATABASE_URL=postgresql://bankim_prod:${CORE_DB_PASSWORD}@localhost:5432/bankim_core
MANAGEMENT_DATABASE_URL=postgresql://bankim_prod:${MANAGEMENT_DB_PASSWORD}@localhost:5432/bankim_management

# Security (Production-Grade)
JWT_SECRET=${JWT_SECRET}
ENCRYPTION_KEY=${ENCRYPTION_KEY}
SESSION_SECRET=${SESSION_SECRET}
SECURE_COOKIES=true
CSRF_PROTECTION=true

# API Configuration (Production Optimized)
API_TIMEOUT=15000
API_RATE_LIMIT=50
ENABLE_CORS=true
CORS_ORIGIN=https://bankim.com,https://admin.bankim.com

# Caching (Production Redis)
CACHE_TTL=3600
ENABLE_CACHE=true
REDIS_URL=redis://localhost:6379/0
REDIS_CLUSTER_MODE=false

# Logging (Production Level)
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=false
LOG_FILE=/var/log/bankim/prod-api.log
ERROR_LOG_FILE=/var/log/bankim/prod-error.log
ENABLE_LOG_ROTATION=true

# Health Monitoring (Enhanced)
HEALTH_CHECK_INTERVAL=30000
ENABLE_HEALTH_MONITOR=true
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
ALERT_EMAIL=${ALERT_EMAIL}
ENABLE_METRICS=true
METRICS_PORT=9090

# File Upload (Production Limits)
MAX_FILE_SIZE=5242880
UPLOAD_PATH=/var/www/bankim/uploads
ENABLE_FILE_VALIDATION=true
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,docx,xlsx

# Production Features
ENABLE_DEBUG_MODE=false
ENABLE_HOT_RELOAD=false
ENABLE_SOURCE_MAPS=false
MINIFY_ASSETS=true
ENABLE_GZIP=true

# Deployment Configuration
DEPLOYMENT_ENV=production
SERVER_HOST=185.220.207.52
SERVER_NAME=adminpanelprod-2
DEPLOYMENT_PATH=/var/www/bankim
BACKUP_PATH=/var/backups/bankim
BACKUP_RETENTION_DAYS=30

# Performance Settings (Production Optimized)
PM2_INSTANCES=2
PM2_MAX_MEMORY=2048M
PM2_NODE_ARGS="--max-old-space-size=2048"
PM2_RESTART_DELAY=5000

# Production-Only Features
ENABLE_TEST_ROUTES=false
MOCK_EXTERNAL_APIS=false
TEST_DATA_SEED=false
ENABLE_SSL=true
SSL_CERT_PATH=/etc/ssl/certs/bankim.crt
SSL_KEY_PATH=/etc/ssl/private/bankim.key

# Email Configuration (Production SMTP)
EMAIL_SERVICE=smtp
FROM_EMAIL=noreply@bankim.com
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}

# External Services (Production)
EXTERNAL_API_BASE_URL=https://api.bankim.com
EXTERNAL_API_TIMEOUT=5000
EXTERNAL_API_KEY=${EXTERNAL_API_KEY}
ENABLE_EXTERNAL_LOGGING=true

# Security Headers
HELMET_ENABLE=true
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY=true
X_FRAME_OPTIONS=DENY

# Database Security
DB_SSL_MODE=require
DB_CONNECTION_POOL_MIN=2
DB_CONNECTION_POOL_MAX=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=10000

# Monitoring & Observability
ENABLE_APM=true
NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}
DATADOG_API_KEY=${DATADOG_API_KEY}
ENABLE_PROMETHEUS_METRICS=true

# Backup Configuration
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_S3_BUCKET=${BACKUP_S3_BUCKET}
BACKUP_ENCRYPTION_KEY=${BACKUP_ENCRYPTION_KEY}